
/**
* QuickQuiz v1.3.2
* http://quizkquiz.ws
* Copyright (c) 2015-present, Raquel García Cabañas
**/
angular.module("quickquiz",["ngRoute","ngAnimate","ngSanitize","ngMaterial","ngMessages","ngStorage","com.2fdevs.videogular","com.2fdevs.videogular.plugins.buffering","com.2fdevs.videogular.plugins.controls","com.2fdevs.videogular.plugins.overlayplay","info.vietnamcode.nampnq.videogular.plugins.youtube"]),angular.module("quickquiz").config(["$routeProvider","$mdThemingProvider",function(a,b){b.theme("default").primaryPalette("teal",{"default":"500"}),a.when("/home",{templateUrl:"templates/home.html",controller:"HomeController",controllerAs:"home",resolve:{quizConfig:["QuizConfig",function(a){return a.loadConfig()}],quizStorage:["QuizStorage",function(a){return a.loadQuizes()}]}}).when("/score",{templateUrl:"templates/score.html",controller:"ScoreController",controllerAs:"score",resolve:{quizConfig:["QuizConfig",function(a){return a.loadConfig()}],quizStorage:["QuizStorage",function(a){return a.loadQuizes()}]}}).when("/thank-you",{templateUrl:"templates/thank-you.html",controller:"ThanksController",controllerAs:"thanks",resolve:{quizConfig:["QuizConfig",function(a){return a.loadConfig()}],quizStorage:["QuizStorage",function(a){return a.loadQuizes()}]}}).when("/:currentPage",{templateUrl:"templates/main.html",controller:"MainQuizController",controllerAs:"main",resolve:{quizConfig:["QuizConfig",function(a){return a.loadConfig()}],quizStorage:["QuizStorage",function(a){return a.loadQuizes()}]}}).when("/:1",{templateUrl:"templates/main.html",controller:"MainQuizController",controllerAs:"main",resolve:{quizConfig:["QuizConfig",function(a){return a.loadConfig()}],quizStorage:["QuizStorage",function(a){return a.loadQuizes()}]}}).otherwise("/home")}]),Object.prototype.hasOwnProperty.call(window,"quickquizTemplates")&&angular.module("quickquiz").run(["$templateCache",function(a){a.put("templates/home.html",window.quickquizTemplates.home),a.put("templates/main.html",window.quickquizTemplates.main),a.put("templates/score.html",window.quickquizTemplates.score),a.put("templates/thank-you.html",window.quickquizTemplates.thanks),a.put("templates/quiz-question.html",window.quickquizTemplates.quizquestion),a.put("templates/question-types/likert-scale.html",window.quickquizTemplates.likertscale),a.put("templates/question-types/long-answer.html",window.quickquizTemplates.longanswer),a.put("templates/question-types/matching-pairs.html",window.quickquizTemplates.matchingpairs),a.put("templates/question-types/matrix.html",window.quickquizTemplates.matrix),a.put("templates/question-types/multiple-answers.html",window.quickquizTemplates.multipleanswers),a.put("templates/question-types/rating.html",window.quickquizTemplates.rating),a.put("templates/question-types/sequence.html",window.quickquizTemplates.sequence),a.put("templates/question-types/short-answer.html",window.quickquizTemplates.shortanswer),a.put("templates/question-types/single-answer.html",window.quickquizTemplates.singleanswer)}]),angular.module("quickquiz").controller("HomeController",["$http","$route","$scope","$location","QuizStorage","QuizConfig","QuizDatabase","SaveLocalStorage",function(a,b,c,d,e,f,g,h){this.quizConfig=f.quizConfig,c.quizConfig=this.quizConfig,this.quizDatabase=g,c.go=function(a){d.path(a)}}]),angular.module("quickquiz").controller("MainQuizController",["$http","$route","$scope","$location","$timeout","$mdToast","$mdDialog","$window","QuizStorage","QuizConfig","QuizTimer","vgFullscreen","QuizDatabase","SaveLocalStorage",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){this.quizDatabase=m,this.mainTitle=j.quizConfig.labels.mainTitle,this.quizConfig=j.quizConfig,c.quizConfig=this.quizConfig,this.quizQuestions=i.quizQuestions,this.questionsData=i.questionsData,this.questionsDataCopy=i.questionsDataCopy,this.numPages=i.numPages,this.numQuestions=i.numQuestions,this.currentPage=parseInt(b.current.params.currentPage),this.isEmpty=i.isEmpty,this.containsArrObj=i.containsArrObj,this.currentCuepointId={},this.isCuepointWaiting=!0,this.hideVideoControls=!1,this.numQuestionsGraded=i.numQuestionsGraded,this.firstNumQuestionInPage=0;for(var o=0;o<this.currentPage-1;o++)this.firstNumQuestionInPage+=this.quizQuestions.pages[o].questions.length;this.pageChanged=function(){document.activeElement.blur()},this.prevPage=function(){d.path(this.currentPage-1)},this.nextPage=function(){this.canContinue()?(d.path(this.currentPage+1),this.quizConfig.settings.refreshBrowser&&setTimeout(function(){h.location.reload()},1)):this.globalAlert=!0},this.checkAnswers=function(){this.canContinue()?(d.path("score"),this.quizConfig.settings.refreshBrowser&&setTimeout(function(){h.location.reload()},1),k.stopCountdown()):this.globalAlert=!0},this.checkAnswersForm=function(a){a.$valid?this.checkAnswers():a.submitted=!0},this.submit=function(){this.canContinue()?this.quizDatabase.onSubmit():this.globalAlert=!0},this.submitForm=function(a){a.$valid?this.submit():a.submitted=!0},this.globalAlert=!1,this.continueAlert=!1,this.showGlobalAlert=function(){return this.globalAlert},this.onAnswer=function(a){this.continueAlert=!1},c.$watch(function(){return i.questionsData},this.onAnswer.bind(this),!0),this.showQuestionAlert=function(a){return this.questionAlert=!1,(this.quizConfig.settings.requiredQuestions||a.required)&&("blank"===a.answerState||("sequence"===a.type||"matching-pairs"===a.type||"matrix"===a.type)&&a.complete!==!0)&&(this.questionAlert=!0),this.questionAlert},this.canContinue=function(){if(this.requiredAnswered=!0,this.globalAlert=!1,this.currentPage<this.numPages)for(var a=0;a<this.quizQuestions.pages[this.currentPage-1].questions.length;a++)(this.quizConfig.settings.requiredQuestions||this.questionsData[this.firstNumQuestionInPage+a].required)&&("blank"===this.questionsData[this.firstNumQuestionInPage+a].answerState||("sequence"===this.questionsData[this.firstNumQuestionInPage+a].type||"matching-pairs"===this.questionsData[this.firstNumQuestionInPage+a].type||"matrix"===this.questionsData[this.firstNumQuestionInPage+a].type)&&this.questionsData[this.firstNumQuestionInPage+a].complete!==!0)&&(this.requiredAnswered=!1,this.globalAlert=!0,this.continueAlert=!0);else for(var a=0;a<this.questionsData.length;a++)(this.quizConfig.settings.requiredQuestions||this.questionsData[a].required)&&("blank"===this.questionsData[a].answerState||("sequence"===this.questionsData[a].type||"matching-pairs"===this.questionsData[a].type||"matrix"===this.questionsData[a].type)&&this.questionsData[a].complete!==!0)&&(this.requiredAnswered=!1,this.globalAlert=!0,this.continueAlert=!0);return this.requiredAnswered},this.showNext=function(){return this.currentPage===this.numPages||"alert"!=this.quizConfig.settings.requiredType&&!this.canContinue()?!1:!0},this.showLast=function(){return this.currentPage<this.numPages||"alert"!=this.quizConfig.settings.requiredType&&!this.canContinue()?!1:!0},this.quizConfig.settings.timerCount>0&&k.init(this.quizConfig.settings.timerCount),this.onUpdateQuizTimer=function(a){this.timeLeft=a},c.$watch(function(){return k.timeLeft},this.onUpdateQuizTimer.bind(this)),this.quizQuestions.pages[this.currentPage-1].media&&(this.audioClass={audio:this.quizQuestions.pages[this.currentPage-1].media[0].type.indexOf("audio")>=0}),this.onPlayerReady=function(a){this.API=a;for(var b=0;b<this.quizQuestions.pages.length;b++)if(this.quizQuestions.pages[b].mediaConfig){for(var c=0;c<this.quizQuestions.pages[b].mediaConfig.cuePoints.questions.length;c++)this.quizQuestions.pages[b].mediaConfig.cuePoints.questions[c].onUpdate=this.onCuepoint.bind(this),this.quizQuestions.pages[b].mediaConfig.cuePoints.questions[c].onComplete=this.onLeaveCuepoint.bind(this),this.quizQuestions.pages[b].mediaConfig.cuePoints.questions[c].onLeave=this.onLeaveCuepoint.bind(this);this.cuePoints=this.quizQuestions.pages[b].mediaConfig.cuePoints}},this.onCuepoint=function(a,b,c){this.isCuepointWaiting&&this.API.pause(),this.currentCuepointId[c.id]=!0,this.isCuepointWaiting=!1,this.quizConfig.settings.requiredQuestions&&("blank"===this.questionsData[c.id].answerState||"matrix"===this.questionsData[c.id].type&&!this.questionsData[c.id].complete)&&(this.hideVideoControls=!0),"play"!==this.API.currentState&&this.quizConfig.settings.requiredQuestions||(this.hideVideoControls=!1)},this.onLeaveCuepoint=function(a,b,c){this.isCuepointWaiting=!0,this.currentCuepointId[c.id]=!1},this.checkCuepoint=function(a){var b=!0;return null!==a.cuePoint&&void 0!==a.cuePoint&&(b=this.currentCuepointId[a.id]),b},this.showFeedback=function(a){g.show(g.alert().clickOutsideToClose(!0).title(this.quizConfig.labels.feedbackTitle).textContent(a).ariaLabel("feedback").ok(this.quizConfig.labels.feedbackOK))},this.showImage=function(a){g.show(g.alert().clickOutsideToClose(!0).htmlContent("<img src="+a+" />").ariaLabel("image").ok(this.quizConfig.labels.closeImage))}}]),angular.module("quickquiz").controller("ScoreController",["$http","$route","$scope","$mdDialog","$location","$window","QuizStorage","QuizConfig","QuizDatabase","QuizScore","SaveLocalStorage",function(a,b,c,d,e,f,g,h,i,j,k){if(this.quizConfig=h.quizConfig,this.quizDatabase=i,this.quizScore=j,this.questionsData=g.questionsData,this.messagePoints=this.quizConfig.labels.showMessagePoints,this.messagePercentage=this.quizConfig.labels.showMessagePercentage,this.messagePersonality=this.quizConfig.labels.showMessagePersonality,this.finalMessagePoints="",this.finalMessagePercentage="",this.finalMessagePersonality="",this.customImagesBy=this.quizConfig.score.customImagesBy,this.customImagesURL=this.quizConfig.score.customImagesURL,this.finalImage="",this.quizScore.calculateScore(),void 0!=this.messagePoints){this.messagePoints.sort(function(a,b){var c=a.greaterThan;return keyB=b.greaterThan,c<keyB?1:c>keyB?-1:0});for(var l=0;l<this.messagePoints.length;l++)if(this.quizScore.scorePoints>=this.messagePoints[l].greaterThan){this.finalMessagePoints=this.messagePoints[l].message;break}}if(void 0!=this.messagePercentage){this.messagePercentage.sort(function(a,b){var c=a.greaterThan;return keyB=b.greaterThan,c<keyB?1:c>keyB?-1:0});for(var l=0;l<this.messagePercentage.length;l++)if(this.quizScore.scorePercentage>=this.messagePercentage[l].greaterThan){this.finalMessagePercentage=this.messagePercentage[l].message;break}}if(void 0!=this.messagePersonality)for(var l=0;l<this.messagePersonality.length;l++)if(this.messagePersonality[l].personality===this.quizScore.winningPersonality){this.finalMessagePersonality=this.messagePersonality[l].message;break}if(void 0!=this.customImagesURL){this.customImagesURL.sort(function(a,b){var c=a.greaterThan;return keyB=b.greaterThan,c<keyB?1:c>keyB?-1:0});for(var l=0;l<this.customImagesURL.length;l++)if("points"===this.customImagesBy){if(this.quizScore.scorePoints>=this.customImagesURL[l].greaterThan){this.finalImage=this.customImagesURL[l].img;break}}else if("percentage"===this.customImagesBy){if(this.quizScore.scorePercentage>=this.customImagesURL[l].greaterThan){this.finalImage=this.customImagesURL[l].img;break}}else if("personality"===this.customImagesBy&&this.quizScore.winningPersonality===this.customImagesURL[l].personality){this.finalImage=this.customImagesURL[l].img;break}}if(this.showImage=function(a){d.show(d.alert().clickOutsideToClose(!0).htmlContent("<img src="+a+" />").ariaLabel("image").ok(this.quizConfig.labels.closeImage))},this.checkShowSolution=function(a,b){var c=!1;return this.itemBoardSolution=b,this.itemAnswerState=a,this.quizConfig.score.showSolution&&this.itemBoardSolution.length>0&&(this.quizConfig.score.showUserAnswers&&"right"==this.itemAnswerState||(c=!0)),c},this.quizConfig.score.hasOwnProperty("share")&&(this.shareBy=this.quizConfig.score.share.shareBy,this.customShareURL=this.quizConfig.score.share.customShareURL,this.shareURL="",void 0!=this.customShareURL)){this.customShareURL.sort(function(a,b){var c=a.greaterThan;return keyB=b.greaterThan,c<keyB?1:c>keyB?-1:0});for(var l=0;l<this.customShareURL.length;l++)if("points"===this.shareBy){if(this.quizScore.scorePoints>=this.customShareURL[l].greaterThan){this.shareURL=this.customShareURL[l].url;break}}else if("percentage"===this.shareBy){if(this.quizScore.scorePercentage>=this.customShareURL[l].greaterThan){this.shareURL=this.customShareURL[l].url;break}}else if("personality"===this.shareBy&&this.quizScore.winningPersonality===this.customShareURL[l].personality){this.shareURL=this.customShareURL[l].url;break}}this.redo=function(){e.path(""),setTimeout(function(){f.location.reload()},1)}}]),angular.module("quickquiz").controller("ThanksController",["$location","$window","QuizConfig",function(a,b,c){this.quizConfig=c.quizConfig,this.redo=function(){a.path(""),setTimeout(function(){b.location.reload()},1)}}]),angular.module("quickquiz").service("QuizConfig",["$q","$http","$rootScope","$localStorage",function(a,b,c,d){this.quizConfig=[],this.loadConfig=function(){var c=a.defer();return Object.prototype.hasOwnProperty.call(window,"quickquizData")?this.onLoadConfig(c,{data:window.quickquizData.config}):b.get("data/config.json").then(this.onLoadConfig.bind(this,c),this.onLoadConfigError.bind(this,c)),c.promise},this.onLoadConfig=function(a,b){this.quizConfig=d.configJSON,c.quizConfig=d.configJSON,a.resolve()},this.onLoadConfigError=function(a){a.reject()}}]),angular.module("quickquiz").service("QuizStorage",["$q","$http","$sce","$localStorage",function(a,b,c,d){this.numPages=null,this.numQuestions=null,this.questionsData=[],this.questionsDataCopy=[],this.numQuestionsGraded=0,this.formName="",this.formEmail="",this.loadQuizes=function(){var c=a.defer();return Object.prototype.hasOwnProperty.call(window,"quickquizData")?(this.quizQuestions||(this.quizQuestions=[]),this.onLoadQuestions(c,{data:window.quickquizData.questions})):this.quizQuestions?c.resolve():(this.quizQuestions=[],b.get("data/questions.json").then(this.onLoadQuestions.bind(this,c),this.onLoadQuestionsError.bind(this,c))),c.promise},this.onLoadQuestions=function(a,b){if(this.quizQuestions.length<1&&(this.quizQuestions=d.questionsJSON,this.numPages=this.quizQuestions.pages.length),this.questionsData.length<1)for(var e=0;e<this.numPages;e++){if(this.quizQuestions.pages[e].media){for(var f=[],g=0;g<this.quizQuestions.pages[e].media.length;g++){var h=this.quizQuestions.pages[e].media[g];f.push({src:c.trustAsResourceUrl(h.url),type:h.type})}this.quizQuestions.pages[e].mediaConfig={source:f,cuePoints:{questions:[]}}}this.quizQuestions.pages[e].youtube&&(f=[{src:this.quizQuestions.pages[e].youtube}],this.quizQuestions.pages[e].mediaConfig={source:f,cuePoints:{questions:[]}});for(var g=0;g<this.quizQuestions.pages[e].questions.length;g++){if("multiple-answers"===this.quizQuestions.pages[e].questions[g].type)this.quizQuestions.pages[e].questions[g].answer=[];else if("short-answer"===this.quizQuestions.pages[e].questions[g].type){if(this.quizQuestions.pages[e].questions[g].solutionToLowerCase=[],this.quizQuestions.pages[e].questions[g].hasOwnProperty("solution"))for(var i=0;i<this.quizQuestions.pages[e].questions[g].solution.length;i++)this.quizQuestions.pages[e].questions[g].solutionToLowerCase.push(this.quizQuestions.pages[e].questions[g].solution[i].toLowerCase())}else"matrix"===this.quizQuestions.pages[e].questions[g].type&&(this.quizQuestions.pages[e].questions[g].answer=[]);if("single-answer"===this.quizQuestions.pages[e].questions[g].type||"multiple-answers"===this.quizQuestions.pages[e].questions[g].type||"sequence"===this.quizQuestions.pages[e].questions[g].type){this.quizQuestions.pages[e].questions[g].choicesID=[];for(var j=0;j<this.quizQuestions.pages[e].questions[g].choices.length;j++)this.quizQuestions.pages[e].questions[g].choicesID.push(j)}else if("matching-pairs"===this.quizQuestions.pages[e].questions[g].type){this.quizQuestions.pages[e].questions[g].choicesRightID=[],this.quizQuestions.pages[e].questions[g].borderColorsLeft=[],this.quizQuestions.pages[e].questions[g].borderColorsRight=[],this.newColor=this.rainbow(this.quizQuestions.pages[e].questions[g].choicesRight.length,Math.floor(Math.random()*this.quizQuestions.pages[e].questions[g].choicesRight.length)+1);for(var j=0;j<this.quizQuestions.pages[e].questions[g].choicesRight.length;j++)if(this.quizQuestions.pages[e].questions[g].choicesRightID.push(j),this.quizQuestions.pages[e].questions[g].borderColor){for(;this.quizQuestions.pages[e].questions[g].borderColorsLeft.indexOf(this.newColor)>-1;)this.newColor=this.rainbow(this.quizQuestions.pages[e].questions[g].choicesRight.length,Math.floor(Math.random()*this.quizQuestions.pages[e].questions[g].choicesRight.length)+1);this.quizQuestions.pages[e].questions[g].borderColorsLeft.push(this.newColor)}}else if("matrix"===this.quizQuestions.pages[e].questions[g].type){this.quizQuestions.pages[e].questions[g].rowsID=[];for(var j=0;j<this.quizQuestions.pages[e].questions[g].rows.length;j++)this.quizQuestions.pages[e].questions[g].rowsID.push(j)}if(this.quizQuestions.pages[e].questions[g].random&&("matrix"===this.quizQuestions.pages[e].questions[g].type?this.shuffleChoices(this.quizQuestions.pages[e].questions[g].rowsID):"matching-pairs"!=this.quizQuestions.pages[e].questions[g].type?this.shuffleChoices(this.quizQuestions.pages[e].questions[g].choicesID):this.shuffleChoices(this.quizQuestions.pages[e].questions[g].choicesRightID)),this.questionsData.push(this.quizQuestions.pages[e].questions[g]),"matrix"!=this.questionsData[this.questionsData.length-1].type)this.questionsData[this.questionsData.length-1].answerState="blank";else{this.questionsData[this.questionsData.length-1].answerState=[];for(var j=0;j<this.questionsData[this.questionsData.length-1].rows.length;j++)this.questionsData[this.questionsData.length-1].answerState[j]="blank"}if("matching-pairs"===this.questionsData[this.questionsData.length-1].type&&(this.questionsData[this.questionsData.length-1].left="blank",this.questionsData[this.questionsData.length-1].right="blank"),this.questionsData[this.questionsData.length-1].hasOwnProperty("choicesWeight")&&("rating"===this.questionsData[this.questionsData.length-1].type&&this.questionsData[this.questionsData.length-1].choicesWeight.reverse(),"matrix"===this.questionsData[this.questionsData.length-1].type&&"rating"===this.questionsData[this.questionsData.length-1].choicesType))for(var k=0;k<this.questionsData[this.questionsData.length-1].choicesWeight.length;k++);if(this.questionsData[this.questionsData.length-1].id=this.questionsData.length-1,this.questionsData[this.questionsData.length-1].keepWidthMobile?this.questionsData[this.questionsData.length-1].mobileWidth=this.questionsData[this.questionsData.length-1].itemsWidth:this.questionsData[this.questionsData.length-1].mobileWidth=100,this.quizQuestions.pages[e].questions[g].cuePoint>=0){var l=this.quizQuestions.pages[e].questions[g].cuePoint,m=l+1;this.quizQuestions.pages[e].questions[g].cuePointEnd&&(m=this.quizQuestions.pages[e].questions[g].cuePointEnd);var n={timeLapse:{start:l,end:m},params:{id:this.questionsData[this.questionsData.length-1].id}};this.quizQuestions.pages[e].mediaConfig.cuePoints.questions.push(n)}}}if(0===this.questionsDataCopy.length){angular.copy(this.questionsData,this.questionsDataCopy);for(var e=0;e<this.questionsData.length;e++){if(this.questionsData[e].graded&&("matrix"!=this.questionsData[e].type?this.numQuestionsGraded+=1:this.numQuestionsGraded+=this.questionsData[e].rows.length),"sequence"===this.questionsData[e].type)for(var g=0;g<this.questionsDataCopy[e].choices.length;g++)this.questionsData[e].solution[g]=this.questionsDataCopy[e].choices[this.questionsDataCopy[e].solution[g]];if("matching-pairs"===this.questionsData[e].type)for(var g=0;g<this.questionsDataCopy[e].choicesRight.length;g++)this.questionsData[e].solution[g]=this.questionsDataCopy[e].choicesRight[this.questionsDataCopy[e].solution[g]]}}for(var e=0;e<this.questionsData.length;e++)if(this.questionsData[e].scoreBoardSolution="","single-answer"===this.questionsData[e].type&&this.questionsData[e].solution>=0)this.questionsData[e].images?this.questionsData[e].scoreBoardSolution="<img class='img-solution' src='"+this.questionsData[e].choices[this.questionsData[e].solution]+"'/>":this.questionsData[e].scoreBoardSolution="<p>"+this.questionsData[e].choices[this.questionsData[e].solution]+"<p>";else if("multiple-answers"===this.questionsData[e].type&&this.questionsData[e].hasOwnProperty("solution")){if(this.questionsData[e].solution.length>0)for(g=0;g<this.questionsData[e].solution.length;g++)this.questionsData[e].images?this.questionsData[e].scoreBoardSolution+="<img class='img-solution' src='"+this.questionsData[e].choices[this.questionsData[e].solution[g]]+"'/>":this.questionsData[e].scoreBoardSolution+="<p>"+this.questionsData[e].choices[this.questionsData[e].solution[g]]+"</p>"}else if("sequence"===this.questionsData[e].type&&this.questionsData[e].solution.length>0){for(this.questionsData[e].noBorder&&!this.questionsData[e].itemSeparation&&this.questionsData[e].images&&(this.questionsData[e].scoreBoardSolution+="<div class='puzzle'>"),g=0;g<this.questionsData[e].solution.length;g++)this.questionsData[e].images?this.questionsData[e].scoreBoardSolution+="<img class='img-solution' src='"+this.questionsDataCopy[e].choices[this.questionsDataCopy[e].solution[g]]+"' />":this.questionsData[e].scoreBoardSolution+="<p>"+this.questionsDataCopy[e].choices[this.questionsDataCopy[e].solution[g]]+"</p>";this.questionsData[e].noBorder&&!this.questionsData[e].itemSeparation&&this.images&&(this.questionsData[e].scoreBoardSolution+="</div>")}else if("matching-pairs"===this.questionsData[e].type&&this.questionsData[e].solution.length>0)for(g=0;g<this.questionsData[e].solution.length;g++)this.solutionLeft=this.questionsDataCopy[e].choicesLeft[g],this.solutionRight=this.questionsDataCopy[e].choicesRight[this.questionsDataCopy[e].solution[g]],this.questionsData[e].imagesLeft===!0&&(this.solutionLeft="<img src='"+this.questionsDataCopy[e].choicesLeft[g]+"'>"),this.questionsData[e].imagesRight===!0&&(this.solutionRight="<img src='"+this.questionsDataCopy[e].choicesRight[this.questionsDataCopy[e].solution[g]]+"'>"),this.questionsData[e].scoreBoardSolution+="<p>"+this.solutionLeft+" - "+this.solutionRight+"</p>";else if("short-answer"===this.questionsData[e].type&&this.questionsData[e].solution.length>0)this.questionsData[e].scoreBoardSolution="<p>"+this.questionsData[e].solution[0]+"</p>";else if("long-answer"===this.questionsData[e].type&&"string"==typeof this.questionsData[e].sampleSolution)this.questionsData[e].sampleSolution.length>0&&(this.questionsData[e].scoreBoardSolution="<p>"+this.questionsData[e].sampleSolution+"</p>");else if("matrix"===this.questionsData[e].type&&this.questionsData[e].solution)for(g=0;g<this.questionsData[e].solution.length;g++)this.questionsData[e].scoreBoardSolution+="<p>"+this.questionsData[e].choices[this.questionsData[e].solution[g]]+"</p>";this.numQuestions=this.questionsData.length,a.resolve()},this.onLoadQuestionsError=function(a){a.reject()},this.isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},this.containsArrObj=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},this.shuffleChoices=function(a){for(var b=a.length-1;b>0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c],a[c]=d}return a},this.rainbow=function(a,b){var c,d,e,f=b/a,g=~~(6*f),h=6*f-g,i=1-h;switch(g%6){case 0:c=1,d=h,e=0;break;case 1:c=i,d=1,e=0;break;case 2:c=0,d=1,e=h;break;case 3:c=0,d=i,e=1;break;case 4:c=h,d=0,e=1;break;case 5:c=1,d=0,e=i}var j="#"+("00"+(~~(255*c)).toString(16)).slice(-2)+("00"+(~~(255*d)).toString(16)).slice(-2)+("00"+(~~(255*e)).toString(16)).slice(-2);return j}}]),angular.module("quickquiz").service("QuizTimer",["QuizConfig","QuizDatabase","$timeout","$http","$location",function(a,b,c,d,e){this.quizDatabase=b,this.quizConfig=a.quizConfig,this.timeLeft=null,this.myTimer=null,this.init=function(a){null===this.timeLeft&&(this.timeLeft=a,this.startCountdown())},this.startCountdown=function(){this.countDown()},this.countDown=function(){this.timeLeft<0?this.quizConfig.hasOwnProperty("database")&&"lastPage"===this.quizConfig.database.sendFrom?this.quizDatabase.onSubmit():e.path("score"):(this.timeLeft--,this.myTimer=c(this.countDown.bind(this),1e3))},this.stopCountdown=function(){c.cancel(this.myTimer)}}]),angular.module("quickquiz").service("QuizScore",["QuizConfig","QuizStorage",function(a,b){this.quizConfig=a.quizConfig,this.questionsData=b.questionsData,this.quizQuestions=b.quizQuestions,this.questionsDataCopy=b.questionsDataCopy,this.numPages=b.numPages,this.numQuestions=b.numQuestions,this.graded=this.quizConfig.settings.graded,this.weighted=this.quizConfig.settings.weighted,this.personalities=this.quizConfig.settings.personalities,this.scoreByQuestion=this.quizConfig.score.scoreByQuestion,this.penaltyPointsPerQuestion=this.quizConfig.score.penaltyPointsPerQuestion,this.numQuestionsGraded=b.numQuestionsGraded,this.calculateScore=function(){function a(a){return a.indexOf(Math.max.apply(Math,a))}if(this.questionsData=b.questionsData,this.totalRight=0,this.totalWrong=0,this.totalBlank=0,this.scorePoints=0,this.scorePercentage=0,this.scorePointsRounded=0,this.scorePercentageRounded=0,this.winningPersonality="",this.containsArrObj=b.containsArrObj,this.graded){this.maxPoints=0,this.penaltyPoints=0,!this.scoreByQuestion&&this.quizConfig.score.maxPoints>0&&(this.maxPoints=this.quizConfig.score.maxPoints);for(var c=0;c<this.questionsData.length;c++)if(this.questionsData[c].graded)if(this.questionsData[c].points&&this.scoreByQuestion&&(this.maxPoints+=this.questionsData[c].points),"matrix"!=this.questionsData[c].type)"blank"===this.questionsData[c].answerState?this.totalBlank+=1:"right"===this.questionsData[c].answerState?(this.totalRight+=1,this.questionsData[c].points&&this.scoreByQuestion&&(this.scorePoints+=this.questionsData[c].points)):"wrong"===this.questionsData[c].answerState&&(this.totalWrong+=1,!this.questionsData[c].penaltyPoints&&this.penaltyPointsPerQuestion<0&&(this.questionsData[c].penaltyPoints=this.penaltyPointsPerQuestion),this.questionsData[c].penaltyPoints&&(this.scorePoints+=this.questionsData[c].penaltyPoints));else for(var d=0;d<this.questionsData[c].rows.length;d++)"blank"===this.questionsData[c].answerState[d]?this.totalBlank+=1:"right"===this.questionsData[c].answerState[d]?(this.totalRight+=1,this.questionsData[c].points&&this.scoreByQuestion&&(this.scorePoints+=this.questionsData[c].points/this.questionsData[c].rows.length)):"wrong"===this.questionsData[c].answerState[d]&&(this.totalWrong+=1,!this.questionsData[c].penaltyPoints&&this.penaltyPointsPerQuestion<0&&(this.questionsData[c].penaltyPoints=this.penaltyPointsPerQuestion/this.questionsData[c].rows.length),this.questionsData[c].penaltyPoints&&(this.scorePoints+=this.questionsData[c].penaltyPoints/this.questionsData[c].rows.length));this.scoreByQuestion||(this.scorePoints=this.totalRight*this.maxPoints/this.numQuestionsGraded+this.totalWrong*this.penaltyPointsPerQuestion),this.scorePoints<0&&(this.scorePoints=0),this.scorePointsRounded=0,this.scorePointsRounded=parseFloat(this.scorePoints.toFixed(this.quizConfig.score.decimalNumber)),this.scorePercentage=this.totalRight/this.numQuestionsGraded*100,this.scorePercentageRounded=parseFloat(this.scorePercentage.toFixed(this.quizConfig.score.decimalNumber))}if(this.weighted){this.scorePoints=0;for(var c=0;c<this.questionsData.length;c++)if(this.questionsData[c].weighted)if("single-answer"===this.questionsData[c].type&&"blank"!=this.questionsData[c].answerState)this.questionsData[c].hasOwnProperty("choicesWeight")&&(this.scorePoints+=this.questionsData[c].choicesWeight[this.questionsData[c].answer]);else if("multiple-answers"===this.questionsData[c].type&&"blank"!=this.questionsData[c].answerState)for(var e=0;e<this.questionsData[c].answer.length;e++)this.questionsData[c].hasOwnProperty("choicesWeight")&&(this.scorePoints+=this.questionsData[c].choicesWeight[this.questionsData[c].answer[e]]);else if("likert-scale"!==this.questionsData[c].type&&"rating"!==this.questionsData[c].type||"blank"==this.questionsData[c].answerState){if("matrix"===this.questionsData[c].type&&"radio"===this.questionsData[c].choicesType)for(var e=0;e<this.questionsData[c].rowsID.length;e++)"answered"===this.questionsData[c].answerState[e]&&this.questionsData[c].hasOwnProperty("choicesWeight")&&(this.scorePoints+=this.questionsData[c].choicesWeight[e][this.questionsData[c].answer[e]]);else if("matrix"===this.questionsData[c].type&&"rating"===this.questionsData[c].choicesType)for(var e=0;e<this.questionsData[c].rowsID.length;e++)"answered"===this.questionsData[c].answerState[e]&&(this.questionsData[c].hasOwnProperty("choicesWeight")?this.scorePoints+=this.questionsData[c].choicesWeight[e][this.questionsData[c].answer[e]]:this.scorePoints+=this.questionsData[c].choices[this.questionsData[c].answer[e]])}else this.questionsData[c].hasOwnProperty("choicesWeight")?this.scorePoints+=this.questionsData[c].choicesWeight[this.questionsData[c].answer]:this.scorePoints+=this.questionsData[c].choices[this.questionsData[c].answer];this.scorePointsRounded=this.scorePoints}if("object"==typeof this.personalities){Object.size=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c},this.winningPersonality="",this.frequency=[];for(var f=0;f<this.personalities.length;f++)this.frequency[f]=0;for(var c=0;c<this.questionsData.length;c++)if(this.associatedResults=this.questionsData[c].associatedPersonality,this.personalitySize=Object.size(this.associatedResults),this.personalitySize>0)if("single-answer"===this.questionsData[c].type&&"blank"!=this.questionsData[c].answerState){this.tempAnswer=this.questionsData[c].answer;for(key in this.associatedResults[this.tempAnswer])this.tempPersonality=this.personalities.indexOf(this.associatedResults[this.tempAnswer][key].personality),this.tempPoints=this.associatedResults[this.tempAnswer][key].points,this.frequency[this.tempPersonality]+=this.tempPoints}else if("multiple-answers"===this.questionsData[c].type&&"blank"!=this.questionsData[c].answerState)for(var e=0;e<this.questionsData[c].answer.length;e++){this.tempAnswer=this.questionsData[c].answer[e];for(key in this.associatedResults[this.tempAnswer])this.tempPersonality=this.personalities.indexOf(this.associatedResults[this.tempAnswer][key].personality),this.tempPoints=this.associatedResults[this.tempAnswer][key].points,this.frequency[this.tempPersonality]+=this.tempPoints}else if("matrix"===this.questionsData[c].type&&"radio"===this.questionsData[c].choicesType)for(var e=0;e<this.questionsData[c].rowsID.length;e++)if("answered"===this.questionsData[c].answerState[e]){this.tempAnswer=this.questionsData[c].answer[e];for(key in this.associatedResults[e][this.tempAnswer])this.tempPersonality=this.personalities.indexOf(this.associatedResults[e][this.tempAnswer][key].personality),this.tempPoints=this.associatedResults[e][this.tempAnswer][key].points,this.frequency[this.tempPersonality]+=this.tempPoints}for(c=0;c<this.frequency.length;c++)"number"!=typeof this.frequency[c]&&(this.frequency[c]=0);this.winningPersonality=this.personalities[a(this.frequency)]}}}]),angular.module("quickquiz").service("QuizDatabase",["QuizConfig","QuizStorage","QuizScore","$rootScope","$location","$mdDialog","$window","$http",function(a,b,c,d,e,f,g,h){this.quizConfig=a.quizConfig,this.questionsData=b.questionsData,this.numQuestions=b.numQuestions,this.formName="",this.formEmail="",this.quizScore=c,this.quizConfig.hasOwnProperty("database")&&(this.tableName=this.quizConfig.database.tableName),this.sendingData=!1,this.onSubmit=function(){if(this.sendingData=!0,this.quizScore.calculateScore(),this.points=this.quizScore.scorePointsRounded,this.percentage=this.quizScore.scorePercentageRounded,this.quizConfig.database.mySQL){if(this.sendObj={},this.sendObj.table=this.tableName,this.quizConfig.database.name&&(this.sendObj.name=this.formName),this.quizConfig.database.email&&(this.sendObj.email=this.formEmail),this.quizConfig.database.sendPercentage&&(this.sendObj.percentage=this.percentage),
this.quizConfig.database.sendPoints&&(this.sendObj.points=this.points),this.quizConfig.database.sendAnswers){this.sendObj.userAnswers=[];var a=2;for(this.numQuestions>100&&(a=3),this.leadZero=function(a,b){return a.length<b?this.leadZero("0"+a,b):a},i=0;i<this.questionsData.length;i++){var b=i+1;if(b=b.toString(),b=this.leadZero(b,a),b="q"+b,this.questionsData[i].hasOwnProperty("qID")||(this.questionsData[i].qID=b),"matrix"!=this.questionsData[i].type){var c=void 0;if("blank"!=this.questionsData[i].answerState)switch(this.questionsData[i].type){case"single-answer":void 0!==this.questionsData[i].answer&&(c=this.questionsData[i].answer<this.questionsData[i].choices.length?this.questionsData[i].choices[this.questionsData[i].answer]:this.questionsData[i].other.text+": "+this.questionsData[i].other.answer);break;case"rating":void 0!==this.questionsData[i].answer&&(c=this.questionsData[i].choices[this.questionsData[i].answer]);break;case"short-answer":case"long-answer":this.questionsData[i].answer&&(c=this.questionsData[i].answer);break;case"sequence":if(this.questionsData[i].answer){c="";for(var h=1;h<this.questionsData[i].answer.length+1;h++)void 0!=this.questionsData[i].answer[h-1]&&(c+=h+". "+this.questionsData[i].answer[h-1]+"\n")}break;case"matching-pairs":if(this.questionsData[i].answer){c="";for(var h=0;h<this.questionsData[i].answer.length;h++)void 0!=this.questionsData[i].answer[h]&&(c+=this.questionsData[i].choicesLeft[h]+" - "+this.questionsData[i].answer[h]+"\n")}break;case"multiple-answers":var j=[];c="";for(var k=0;k<this.questionsData[i].answer.length;k++)this.questionsData[i].choices[this.questionsData[i].answer[k]]===this.questionsData[i].choices[this.questionsData[i].choices.length]?j.push(this.questionsData[i].other.text+": "+this.questionsData[i].other.answer):j.push(this.questionsData[i].choices[this.questionsData[i].answer[k]]);for(var h=0;h<j.length;h++)c+=j[h]+"\n";break;case"likert-scale":"button"===this.questionsData[i].scaleType?void 0!==this.questionsData[i].answer&&(c=this.questionsData[i].choices[this.questionsData[i].answer]):c=this.questionsData[i].answer}void 0!==c&&(c=c.toString()),this.sendObj.userAnswers.push({qID:this.questionsData[i].qID,type:this.questionsData[i].type,answer:c})}else if("matrix"===this.questionsData[i].type)for(var l=0;l<this.questionsData[i].rows.length;l++){var c=void 0,m=l+1;m=m.toString(),m=this.leadZero(m,2),this.rowID=this.questionsData[i].qID+"_"+m,this.questionsData[i].hasOwnProperty("rID")&&(this.rowID=this.questionsData[i].qID+"_"+this.questionsData[i].rID[l]),"blank"!=this.questionsData[i].answerState&&void 0!=this.questionsData[i].answer[l]&&(c=this.questionsData[i].choices[this.questionsData[i].answer[l]]),void 0!==c&&(c=c.toString()),this.sendObj.userAnswers.push({qID:this.rowID,answer:c})}}}this.sendingData=!1,f.show(f.alert().clickOutsideToClose(!0).textContent("Download the generated files and fill the details of your database in your php files to test sending data").ariaLabel("php").ok("OK")),"score"===this.quizConfig.database.goTo?(e.path("score"),d.$apply()):"thanks"===this.quizConfig.database.goTo?(e.path("thank-you"),d.$apply()):"home"===this.quizConfig.database.goTo?(e.path("home"),d.$apply()):"firstQuestion"===this.quizConfig.database.goTo?(e.path("1"),d.$apply()):"url"===this.quizConfig.database.goTo&&(g.location.href=this.quizConfig.database.goToUrl)}else{Parse.initialize(this.quizConfig.database.applicationId,this.quizConfig.database.javascriptKey);var n=Parse.Object.extend(this.tableName);if(quickQuiz=new n,this.quizConfig.database.name&&quickQuiz.set("name",this.formName),this.quizConfig.database.email&&quickQuiz.set("email",this.formEmail),this.quizConfig.database.sendPercentage&&quickQuiz.set("percentage",this.percentage),this.quizConfig.database.sendPoints&&quickQuiz.set("points",this.points),this.quizConfig.database.sendAnswers){var a=2;for(this.numQuestions>100&&(a=3),this.leadZero=function(a,b){return a.length<b?this.leadZero("0"+a,b):a},i=0;i<this.questionsData.length;i++){var b=i+1;if(b=b.toString(),b=this.leadZero(b,a),b="q"+b,this.questionsData[i].hasOwnProperty("qID")||(this.questionsData[i].qID=b),"matrix"!=this.questionsData[i].type){var c=void 0;if("blank"!=this.questionsData[i].answerState)switch(this.questionsData[i].type){case"single-answer":void 0!==this.questionsData[i].answer&&(c=this.questionsData[i].answer<this.questionsData[i].choices.length?this.questionsData[i].choices[this.questionsData[i].answer]:"Other: "+this.questionsData[i].other.answer);break;case"rating":void 0!==this.questionsData[i].answer&&(c=this.questionsData[i].choices[this.questionsData[i].answer]);break;case"short-answer":case"long-answer":this.questionsData[i].answer&&(c=this.questionsData[i].answer);break;case"sequence":case"matching-pairs":this.questionsData[i].answer&&(c=this.questionsData[i].answer.join(" - "));break;case"multiple-answers":for(var j=[],k=0;k<this.questionsData[i].answer.length;k++)this.questionsData[i].choices[this.questionsData[i].answer[k]]===this.questionsData[i].choices[this.questionsData[i].choices.length]?j.push(this.questionsData[i].other.text+": "+this.questionsData[i].other.answer):j.push(this.questionsData[i].choices[this.questionsData[i].answer[k]]);c=j.join(" - ");break;case"likert-scale":"button"===this.questionsData[i].scaleType?void 0!==this.questionsData[i].answer&&(c=this.questionsData[i].choices[this.questionsData[i].answer]):c=this.questionsData[i].answer}void 0!==c&&(c=c.toString()),quickQuiz.set(this.questionsData[i].qID,c)}else if("matrix"===this.questionsData[i].type)for(var l=0;l<this.questionsData[i].rows.length;l++){var c=void 0,m=l+1;m=m.toString(),m=this.leadZero(m,2),this.rowID=this.questionsData[i].qID+"_"+m,this.questionsData[i].hasOwnProperty("rID")&&(this.rowID=this.questionsData[i].qID+"_"+this.questionsData[i].rID[l]),"blank"!=this.questionsData[i].answerState&&void 0!=this.questionsData[i].answer[l]&&(c=this.questionsData[i].choices[this.questionsData[i].answer[l]]),void 0!==c&&(c=c.toString()),quickQuiz.set(this.rowID,c)}}}quickQuiz.save(null,{success:this.onSaveSuccess.bind(this),error:this.onSaveError.bind(this)})}},this.onSaveSuccess=function(a){this.sendingData=!1,this.quizConfig.database.showSuccess&&f.show(f.alert().clickOutsideToClose(!0).textContent(this.quizConfig.labels.sentSuccess).ariaLabel(this.quizConfig.labels.sentSuccess).ok(this.quizConfig.labels.feedbackOK)),"score"===this.quizConfig.database.goTo?(e.path("score"),d.$apply()):"thanks"===this.quizConfig.database.goTo?(e.path("thank-you"),d.$apply()):"home"===this.quizConfig.database.goTo?(e.path("home"),d.$apply()):"firstQuestion"===this.quizConfig.database.goTo?(e.path("1"),d.$apply()):"url"===this.quizConfig.database.goTo&&(g.location.href=this.quizConfig.database.goToUrl),setTimeout(function(){g.location.reload()},1)},this.onSaveError=function(a,b){this.sendingData=!1,f.show(f.alert().clickOutsideToClose(!0).htmlContent(this.quizConfig.labels.sentError+"<p><em>"+b.message+"</em></p>").ariaLabel(this.quizConfig.labels.sentError).ok(this.quizConfig.labels.feedbackOK))},this.onMySQLSuccess=function(a){this.sendingData=!1,this.quizConfig.database.showSuccess?f.show(f.alert().clickOutsideToClose(!0).textContent(this.quizConfig.labels.sentSuccess).ariaLabel(this.quizConfig.labels.sentSuccess).ok(this.quizConfig.labels.feedbackOK)).then(this.onClickOkShowSuccess.bind(this)):this.onClickOkShowSuccess()},this.onClickOkShowSuccess=function(){"score"===this.quizConfig.database.goTo?e.path("score"):"thanks"===this.quizConfig.database.goTo?e.path("thank-you"):"home"===this.quizConfig.database.goTo?e.path("home"):"firstQuestion"===this.quizConfig.database.goTo?e.path("1"):"url"===this.quizConfig.database.goTo&&(g.location.href=this.quizConfig.database.goToUrl),setTimeout(function(){g.location.reload()},1)},this.onMySQLError=function(a){this.sendingData=!1,console.log(this.sendingData),f.show(f.alert().clickOutsideToClose(!0).htmlContent(this.quizConfig.labels.sentError+"<p><em>"+a+"</em></p>").ariaLabel(this.quizConfig.labels.sentError).ok(this.quizConfig.labels.feedbackOK))}}]),angular.module("quickquiz").service("SaveLocalStorage",["$location","$route","$rootScope","$localStorage","$mdDialog","$window","$anchorScroll","QuizConfig","QuizStorage","QuizScore",function(a,b,c,d,e,f,g,h,i,j){if(this.quizConfig=h.quizConfig,this.startPath=a.path(),this.quizConfig.settings.saveLocalStorage===!0){if(this.fromScratch=function(){d.savedQuiz={},d.savedQuiz.questionsData=i.questionsData,d.savedQuiz.path=this.startPath},this.fromLocalStorage=function(){i.questionsData=d.savedQuiz.questionsData,this.quizConfig.settings.refreshBrowser?a.hash("quickquiz"):a.path(d.savedQuiz.path),g(),b.reload()},this.onUpdateQuestionsData=function(b){a.path()!=this.startPath&&(d.savedQuiz.path=a.path())},void 0===d.savedQuiz)this.fromScratch();else if(this.quizConfig.settings.showLocalStoragePopUp===!0){var k=e.confirm().title(this.quizConfig.labels.loadLocalStorageAlert).textContent("").ariaLabel("Use saved answers").ok(this.quizConfig.labels.fromSavedButton).cancel(this.quizConfig.labels.fromScratchButton);e.show(k).then(this.fromLocalStorage.bind(this),this.fromScratch.bind(this))}else this.fromLocalStorage();c.$watch(function(){return i.questionsData},this.onUpdateQuestionsData.bind(this),!0)}}]),angular.module("quickquiz").directive("quizQuestion",function(){return{restrict:"E",templateUrl:"templates/quiz-question.html"}}),angular.module("quickquiz").directive("singleAnswer",["QuizStorage",function(a){return{restrict:"E",templateUrl:"templates/question-types/single-answer.html",scope:{quizMain:"=",questionId:"="},controllerAs:"ctrl",controller:["$scope",function(a){this.quizMain=a.quizMain,this.questionId=a.questionId,this.change=function(){this.quizMain.questionsData[this.questionId].answer=parseInt(this.quizMain.questionsData[this.questionId].answer),this.checkSingleAnswer()},this.setAnswers=function(a){this.quizMain.questionsData[this.questionId].answer===a?(this.quizMain.questionsData[this.questionId].answer=void 0,this.quizMain.questionsData[this.questionId].answerState="blank"):(this.quizMain.questionsData[this.questionId].answer=a,this.checkSingleAnswer())},this.checkSingleAnswer=function(){this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",this.quizMain.questionsData[this.questionId].answerState="answered","answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play(),this.quizMain.questionsData[this.questionId].graded&&(this.quizMain.questionsData[this.questionId].solution===this.quizMain.questionsData[this.questionId].answer?(this.quizMain.questionsData[this.questionId].answerState="right","right"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play()):this.quizMain.questionsData[this.questionId].answerState="wrong"),this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<p>",this.quizMain.questionsData[this.questionId].graded&&this.quizMain.quizConfig.score.showIcons&&("right"===this.quizMain.questionsData[this.questionId].answerState?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-right'></span>":"wrong"===this.quizMain.questionsData[this.questionId].answerState&&(this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-wrong'></span>")),this.quizMain.questionsData[this.questionId].images?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<img src='"+this.quizMain.questionsData[this.questionId].choices[this.quizMain.questionsData[this.questionId].answer]+"'/>":this.quizMain.questionsData[this.questionId].answer===this.quizMain.questionsData[this.questionId].choices.length?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.quizMain.questionsData[this.questionId].other.text+": "+this.quizMain.questionsData[this.questionId].other.answer:this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.quizMain.questionsData[this.questionId].choices[this.quizMain.questionsData[this.questionId].answer],this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="</p>",this.quizMain.quizConfig.settings.requiredQuestions&&("blank"===this.quizMain.questionsData[this.questionId].answerState?this.quizMain.hideVideoControls=!0:this.quizMain.hideVideoControls=!1),this.quizMain.quizConfig.settings.autoAdvance&&"blank"!=this.quizMain.questionsData[this.questionId].answerState&&(this.quizMain.showNext()?this.quizMain.nextPage():this.quizMain.showLast()&&(this.quizMain.quizConfig.hasOwnProperty("database")&&"lastPage"===this.quizMain.quizConfig.database.sendFrom?this.quizMain.submit():this.quizMain.checkAnswers()))}}]}}]),angular.module("quickquiz").directive("multipleAnswers",["QuizStorage",function(a){return{restrict:"E",templateUrl:"templates/question-types/multiple-answers.html",scope:{quizMain:"=",questionId:"="},controllerAs:"ctrl",controller:["$scope",function(a){this.quizMain=a.quizMain,this.questionId=a.questionId,this.change=function(){this.setAnswers(this.quizMain.questionsData[this.questionId].choices.length),this.setAnswers(this.quizMain.questionsData[this.questionId].choices.length)},this.setAnswers=function(a){if(this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",this.option=this.quizMain.questionsData[this.questionId].answer.indexOf(a),this.option>-1?this.quizMain.questionsData[this.questionId].answer.splice(this.option,1):this.quizMain.questionsData[this.questionId].answer.push(a),this.quizMain.questionsData[this.questionId].answer.sort(),this.quizMain.questionsData[this.questionId].someWrong=!1,this.quizMain.questionsData[this.questionId].someRight=!1,0===this.quizMain.questionsData[this.questionId].answer.length)this.quizMain.questionsData[this.questionId].answerState="blank";else for(this.quizMain.questionsData[this.questionId].answerState="answered","answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play(),this.quizMain.questionsData[this.questionId].graded&&(this.quizMain.questionsData[this.questionId].solution.sort(),this.quizMain.questionsData[this.questionId].answer.toString()===this.quizMain.questionsData[this.questionId].solution.toString()?(this.quizMain.questionsData[this.questionId].answerState="right","right"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play()):this.quizMain.questionsData[this.questionId].answerState="wrong"),b=0;b<this.quizMain.questionsData[this.questionId].answer.length;b++)this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<p>",this.quizMain.questionsData[this.questionId].graded&&this.quizMain.quizConfig.score.showIcons&&(this.quizMain.questionsData[this.questionId].solution.indexOf(this.quizMain.questionsData[this.questionId].answer[b])>-1?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-right'></span>":this.quizMain.questionsData[this.questionId].solution.indexOf(this.quizMain.questionsData[this.questionId].answer[b])<0&&(this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-wrong'></span>")),this.quizMain.questionsData[this.questionId].images?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<img src='"+this.quizMain.questionsData[this.questionId].choices[this.quizMain.questionsData[this.questionId].answer[b]]+"'/>":this.quizMain.questionsData[this.questionId].answer[b]===this.quizMain.questionsData[this.questionId].choices.length?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.quizMain.questionsData[this.questionId].other.text+": "+this.quizMain.questionsData[this.questionId].other.answer:this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.quizMain.questionsData[this.questionId].choices[this.quizMain.questionsData[this.questionId].answer[b]],this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="</p>";if(this.quizMain.questionsData[this.questionId].graded&&"right"!=this.quizMain.questionsData[this.questionId].answerState)for(var b=0;b<this.quizMain.questionsData[this.questionId].answer.length;b++)this.quizMain.questionsData[this.questionId].solution.indexOf(this.quizMain.questionsData[this.questionId].answer[b])<0?this.quizMain.questionsData[this.questionId].someWrong=!0:this.quizMain.questionsData[this.questionId].someRight=!0;this.quizMain.quizConfig.settings.requiredQuestions&&("blank"===this.quizMain.questionsData[this.questionId].answerState?this.quizMain.hideVideoControls=!0:this.quizMain.hideVideoControls=!1)}}]}}]),angular.module("quickquiz").directive("sequence",["QuizStorage",function(a){return{restrict:"E",templateUrl:"templates/question-types/sequence.html",scope:{quizMain:"=",questionId:"="},controllerAs:"ctrl",controller:["$scope",function(a){this.quizMain=a.quizMain,this.questionId=a.questionId,this.setSelectAnswer=function(){for(this.quizMain.questionsData[this.questionId].answer=[],i=0;i<this.quizMain.questionsData[this.questionId].choices.length;i++)this.quizMain.questionsData[this.questionId].answer[i]=this.quizMain.questionsData[this.questionId].choices[this.quizMain.questionsData[this.questionId].selectModel[i]];this.isBlank=this.quizMain.questionsData[this.questionId].answer.every(function(a){return!a}),this.isBlank?this.quizMain.questionsData[this.questionId].answerState="blank":this.checkSequence()},this.checkSequence=function(){for(this.quizMain.questionsData[this.questionId].complete=!0,this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",this.quizMain.questionsData[this.questionId].answerState="answered",this.quizMain.questionsData[this.questionId].graded&&(this.quizMain.questionsData[this.questionId].solution.toString()===this.quizMain.questionsData[this.questionId].answer.toString()?(this.quizMain.questionsData[this.questionId].answerState="right","right"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play()):this.quizMain.questionsData[this.questionId].answerState="wrong"),i=0;i<this.quizMain.questionsData[this.questionId].solution.length;i++)this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<p>",this.quizMain.questionsData[this.questionId].graded&&this.quizMain.quizConfig.score.showIcons&&(this.quizMain.questionsData[this.questionId].answer[i]===this.quizMain.questionsData[this.questionId].solution[i]?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-right'></span>":void 0!=this.quizMain.questionsData[this.questionId].answer[i]&&(this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-wrong'></span>")),this.quizMain.questionsData[this.questionId].images?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<img src='"+this.quizMain.questionsData[this.questionId].answer[i]+"' />":void 0===this.quizMain.questionsData[this.questionId].answer[i]?(this.quizMain.questionsData[this.questionId].complete=!1,this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=" -"):this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.quizMain.questionsData[this.questionId].answer[i],this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="</p>",this.quizMain.questionsData[this.questionId].complete&&"answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play();this.quizMain.quizConfig.settings.requiredQuestions&&("blank"!==this.quizMain.questionsData[this.questionId].answerState&&this.quizMain.questionsData[this.questionId].complete?this.quizMain.hideVideoControls=!1:this.quizMain.hideVideoControls=!0),this.quizMain.quizConfig.settings.autoAdvance&&"blank"!=this.quizMain.questionsData[this.questionId].answerState&&this.quizMain.questionsData[this.questionId].complete&&(this.quizMain.showNext()?this.quizMain.nextPage():this.quizMain.showLast()&&(this.quizMain.quizConfig.hasOwnProperty("database")&&"lastPage"===this.quizMain.quizConfig.database.sendFrom?this.quizMain.submit():this.quizMain.checkAnswers()))}}]}}]),angular.module("quickquiz").directive("matchingPairs",["QuizStorage",function(a){return{restrict:"E",templateUrl:"templates/question-types/matching-pairs.html",scope:{quizMain:"=",questionId:"="},controllerAs:"ctrl",controller:["$scope",function(a){this.quizMain=a.quizMain,this.questionId=a.questionId,"object"!=typeof this.quizMain.questionsData[this.questionId].answer&&(this.quizMain.questionsData[this.questionId].answer=[]),this.setMatchingLeft=function(a){delete this.quizMain.questionsData[this.questionId].answer[a],this.quizMain.questionsData[this.questionId].left===a?this.quizMain.questionsData[this.questionId].left="blank":(this.quizMain.questionsData[this.questionId].left=a,"blank"!=this.quizMain.questionsData[this.questionId].right&&this.addMatchingAnswer()),this.checkMatchingPairs()},this.setMatchingRight=function(a){this.quizMain.questionsData[this.questionId].answer.indexOf(this.quizMain.questionsData[this.questionId].choicesRight[a])>-1&&delete this.quizMain.questionsData[this.questionId].answer[this.quizMain.questionsData[this.questionId].answer.indexOf(this.quizMain.questionsData[this.questionId].choicesRight[a])],this.quizMain.questionsData[this.questionId].right===a?this.quizMain.questionsData[this.questionId].right="blank":(this.quizMain.questionsData[this.questionId].right=a,"blank"!=this.quizMain.questionsData[this.questionId].left&&this.addMatchingAnswer()),this.checkMatchingPairs()},this.addMatchingAnswer=function(){this.quizMain.questionsData[this.questionId].answer[this.quizMain.questionsData[this.questionId].left]=this.quizMain.questionsData[this.questionId].choicesRight[this.quizMain.questionsData[this.questionId].right],this.quizMain.questionsData[this.questionId].borderColorsRight[this.quizMain.questionsData[this.questionId].right]=this.quizMain.questionsData[this.questionId].borderColorsLeft[this.quizMain.questionsData[this.questionId].left],this.quizMain.questionsData[this.questionId].left="blank",this.quizMain.questionsData[this.questionId].right="blank"},this.setSelectAnswer=function(){for(this.quizMain.questionsData[this.questionId].answer=[],i=0;i<this.quizMain.questionsData[this.questionId].choicesRight.length;i++)this.quizMain.questionsData[this.questionId].answer[i]=this.quizMain.questionsData[this.questionId].choicesRight[this.quizMain.questionsData[this.questionId].selectModel[i]];this.isBlank=this.quizMain.questionsData[this.questionId].answer.every(function(a){return!a}),this.isBlank?this.quizMain.questionsData[this.questionId].answerState="blank":this.checkMatchingPairs()},this.checkMatchingPairs=function(){if(this.quizMain.questionsData[this.questionId].complete=!0,this.quizMain.questionsData[this.questionId].answer.length>this.quizMain.questionsData[this.questionId].answer.toString().length||0===this.quizMain.questionsData[this.questionId].answer.length)this.quizMain.questionsData[this.questionId].answerState="blank";else{for(this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",this.quizMain.questionsData[this.questionId].answerState="answered",this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",this.quizMain.questionsData[this.questionId].graded&&(this.quizMain.questionsData[this.questionId].solution.toString()===this.quizMain.questionsData[this.questionId].answer.toString()?(this.quizMain.questionsData[this.questionId].answerState="right","right"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play()):this.quizMain.questionsData[this.questionId].answerState="wrong"),i=0;i<this.quizMain.questionsData[this.questionId].solution.length;i++)this.scoreLeft=this.quizMain.questionsDataCopy[this.questionId].choicesLeft[i],this.scoreRight=this.quizMain.questionsData[this.questionId].answer[i],this.quizMain.questionsData[this.questionId].imagesLeft===!0&&(this.scoreLeft="<img src='"+this.quizMain.questionsDataCopy[this.questionId].choicesLeft[i]+"'>"),this.quizMain.questionsData[this.questionId].imagesRight===!0&&(this.scoreRight="<img src='"+this.quizMain.questionsData[this.questionId].answer[i]+"'>"),this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<p>",this.quizMain.questionsData[this.questionId].graded&&this.quizMain.quizConfig.score.showIcons&&(this.quizMain.questionsData[this.questionId].answer[i]===this.quizMain.questionsData[this.questionId].solution[i]?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-right'></span>":void 0!=this.quizMain.questionsData[this.questionId].answer[i]&&(this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-wrong'></span>")),void 0===this.quizMain.questionsData[this.questionId].answer[i]?(this.quizMain.questionsData[this.questionId].complete=!1,this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.scoreLeft+" - "):this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.scoreLeft+" - "+this.scoreRight,this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="</p>";this.quizMain.questionsData[this.questionId].complete&&"answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play()}this.quizMain.quizConfig.settings.requiredQuestions&&("blank"!==this.quizMain.questionsData[this.questionId].answerState&&this.quizMain.questionsData[this.questionId].complete?this.quizMain.hideVideoControls=!1:this.quizMain.hideVideoControls=!0),this.quizMain.quizConfig.settings.autoAdvance&&"blank"!=this.quizMain.questionsData[this.questionId].answerState&&this.quizMain.questionsData[this.questionId].complete&&(this.quizMain.showNext()?this.quizMain.nextPage():this.quizMain.showLast()&&(this.quizMain.quizConfig.hasOwnProperty("database")&&"lastPage"===this.quizMain.quizConfig.database.sendFrom?this.quizMain.submit():this.quizMain.checkAnswers()))}}]}}]),angular.module("quickquiz").directive("shortAnswer",["QuizStorage",function(a){return{restrict:"E",templateUrl:"templates/question-types/short-answer.html",scope:{quizMain:"=",questionId:"="},controllerAs:"ctrl",controller:["$scope",function(b){this.quizMain=b.quizMain,this.questionId=b.questionId,this.containsArrObj=a.containsArrObj,this.change=function(){" "===this.quizMain.questionsData[this.questionId].answer&&(this.quizMain.questionsData[this.questionId].answer=void 0),this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",void 0===this.quizMain.questionsData[this.questionId].answer||""===this.quizMain.questionsData[this.questionId].answer?this.quizMain.questionsData[this.questionId].answerState="blank":(this.quizMain.questionsData[this.questionId].answerState="answered","answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play(),this.quizMain.questionsData[this.questionId].graded&&(this.containsArrObj(this.quizMain.questionsData[this.questionId].solutionToLowerCase,this.quizMain.questionsData[this.questionId].answer.toLowerCase())?(this.quizMain.questionsData[this.questionId].answerState="right","right"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play()):this.quizMain.questionsData[this.questionId].answerState="wrong"),this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<p>",this.quizMain.questionsData[this.questionId].graded&&this.quizMain.quizConfig.score.showIcons&&("right"===this.quizMain.questionsData[this.questionId].answerState?this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-right'></span>":"wrong"===this.quizMain.questionsData[this.questionId].answerState&&(this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<span class='icon-wrong'></span>")),this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.quizMain.questionsData[this.questionId].answer,this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="</p>"),this.quizMain.quizConfig.settings.requiredQuestions&&("blank"===this.quizMain.questionsData[this.questionId].answerState?this.quizMain.hideVideoControls=!0:this.quizMain.hideVideoControls=!1)}}]}}]),angular.module("quickquiz").directive("longAnswer",["QuizStorage",function(a){return{restrict:"E",templateUrl:"templates/question-types/long-answer.html",scope:{quizMain:"=",questionId:"="},controllerAs:"ctrl",controller:["$scope",function(a){this.quizMain=a.quizMain,this.questionId=a.questionId,this.change=function(){" "===this.quizMain.questionsData[this.questionId].answer&&(this.quizMain.questionsData[this.questionId].answer=void 0),this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",void 0===this.quizMain.questionsData[this.questionId].answer||""===this.quizMain.questionsData[this.questionId].answer?this.quizMain.questionsData[this.questionId].answerState="blank":(this.quizMain.questionsData[this.questionId].scoreBoardAnswer="<p>"+this.quizMain.questionsData[this.questionId].answer+"</p>",this.quizMain.questionsData[this.questionId].answerState="answered","answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play()),this.quizMain.quizConfig.settings.requiredQuestions&&("blank"===this.quizMain.questionsData[this.questionId].answerState?this.quizMain.hideVideoControls=!0:this.quizMain.hideVideoControls=!1)}}]}}]),angular.module("quickquiz").directive("likertScale",["QuizStorage",function(a){return{restrict:"E",templateUrl:"templates/question-types/likert-scale.html",scope:{quizMain:"=",questionId:"="},controllerAs:"ctrl",controller:["$scope",function(a){this.quizMain=a.quizMain,this.questionId=a.questionId,this.quizMain.questionsData[this.questionId].choices=[];for(var b=this.quizMain.questionsData[this.questionId].minValue;b<this.quizMain.questionsData[this.questionId].maxValue+1;b++)this.quizMain.questionsData[this.questionId].choices.push(b);"slider"===this.quizMain.questionsData[this.questionId].scaleType&&"number"==typeof this.quizMain.questionsData[this.questionId].defaultValue&&(void 0===this.quizMain.questionsData[this.questionId].answer&&(this.quizMain.questionsData[this.questionId].answer=this.quizMain.questionsData[this.questionId].defaultValue),this.quizMain.questionsData[this.questionId].answerState="answered",this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",this.quizMain.questionsData[this.questionId].scoreBoardAnswer="<p>"+this.quizMain.questionsData[this.questionId].answer+"</p>"),this.change=function(){this.quizMain.questionsData[this.questionId].answerState="answered","answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play(),this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",this.quizMain.questionsData[this.questionId].scoreBoardAnswer="<p>"+this.quizMain.questionsData[this.questionId].answer+"</p>"},this.setAnswers=function(a,b){this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",this.quizMain.questionsData[this.questionId].answer===b?(this.quizMain.questionsData[this.questionId].answer=void 0,this.quizMain.questionsData[this.questionId].answerState="blank"):(this.quizMain.questionsData[this.questionId].answerState="answered","answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play(),this.quizMain.questionsData[this.questionId].answer=b,this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<p>",this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.quizMain.questionsData[this.questionId].choices[this.quizMain.questionsData[this.questionId].answer],this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="</p>"),this.quizMain.quizConfig.settings.requiredQuestions&&("blank"===this.quizMain.questionsData[this.questionId].answerState?this.quizMain.hideVideoControls=!0:this.quizMain.hideVideoControls=!1),this.quizMain.quizConfig.settings.autoAdvance&&"blank"!=this.quizMain.questionsData[this.questionId].answerState&&(this.quizMain.showNext()?this.quizMain.nextPage():this.quizMain.showLast()&&(this.quizMain.quizConfig.hasOwnProperty("database")&&"lastPage"===this.quizMain.quizConfig.database.sendFrom?this.quizMain.submit():this.quizMain.checkAnswers()));
}}]}}]),angular.module("quickquiz").directive("rating",["QuizStorage",function(a){return{restrict:"E",templateUrl:"templates/question-types/rating.html",scope:{quizMain:"=",questionId:"="},controllerAs:"ctrl",controller:["$scope",function(a){this.quizMain=a.quizMain,this.questionId=a.questionId,this.quizMain.questionsData[this.questionId].choices=[];for(var b=this.quizMain.questionsData[this.questionId].maxValue;b>0;b--)this.quizMain.questionsData[this.questionId].choices.push(b);this.setAnswers=function(a,b){this.quizMain.questionsData[this.questionId].scoreBoardAnswer="",this.quizMain.questionsData[this.questionId].answer===b?(this.quizMain.questionsData[this.questionId].answer=void 0,this.quizMain.questionsData[this.questionId].answerState="blank"):(this.quizMain.questionsData[this.questionId].answerState="answered","answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play(),this.quizMain.questionsData[this.questionId].answer=b,this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="<p>",this.quizMain.questionsData[this.questionId].scoreBoardAnswer+=this.quizMain.questionsData[this.questionId].choices[this.quizMain.questionsData[this.questionId].answer],this.quizMain.questionsData[this.questionId].scoreBoardAnswer+="</p>"),this.quizMain.quizConfig.settings.requiredQuestions&&("blank"===this.quizMain.questionsData[this.questionId].answerState?this.quizMain.hideVideoControls=!0:this.quizMain.hideVideoControls=!1),this.quizMain.quizConfig.settings.autoAdvance&&"blank"!=this.quizMain.questionsData[this.questionId].answerState&&(this.quizMain.showNext()?this.quizMain.nextPage():this.quizMain.showLast()&&(this.quizMain.quizConfig.hasOwnProperty("database")&&"lastPage"===this.quizMain.quizConfig.database.sendFrom?this.quizMain.submit():this.quizMain.checkAnswers()))}}]}}]),angular.module("quickquiz").directive("matrix",["QuizStorage",function(a){return{restrict:"E",templateUrl:"templates/question-types/matrix.html",scope:{quizMain:"=",questionId:"="},controllerAs:"ctrl",controller:["$scope",function(a){if(this.quizMain=a.quizMain,this.questionId=a.questionId,"rating"===this.quizMain.questionsData[this.questionId].choicesType){this.quizMain.questionsData[this.questionId].choices=[];for(var b=this.quizMain.questionsData[this.questionId].maxValue;b>0;b--)this.quizMain.questionsData[this.questionId].choices.push(b)}this.changeRating=function(a,b){this.quizMain.questionsData[this.questionId].answer[a]=b,this.quizMain.questionsData[this.questionId].answerState[a]="answered",this.checkMatrix()},this.change=function(a){this.quizMain.questionsData[this.questionId].answer[a]=parseInt(this.quizMain.questionsData[this.questionId].answer[a]),this.quizMain.questionsData[this.questionId].answerState[a]="answered",this.checkMatrix()},this.checkMatrix=function(){this.quizMain.questionsData[this.questionId].complete=!0,this.quizMain.questionsData[this.questionId].scoreBoardAnswer=[];for(var a=0;a<this.quizMain.questionsData[this.questionId].rows.length;a++)this.quizMain.questionsData[this.questionId].scoreBoardAnswer[a]="",this.quizMain.questionsData[this.questionId].graded&&"blank"!=this.quizMain.questionsData[this.questionId].answerState[a]&&(this.quizMain.questionsData[this.questionId].solution[a]===this.quizMain.questionsData[this.questionId].answer[a]?(this.quizMain.questionsData[this.questionId].answerState[a]="right","right"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play()):this.quizMain.questionsData[this.questionId].answerState[a]="wrong"),this.quizMain.questionsData[this.questionId].scoreBoardAnswer[a]+="<p>",this.quizMain.questionsData[this.questionId].graded&&this.quizMain.quizConfig.score.showIcons&&("right"===this.quizMain.questionsData[this.questionId].answerState[a]?this.quizMain.questionsData[this.questionId].scoreBoardAnswer[a]+="<span class='icon-right'></span>":"wrong"===this.quizMain.questionsData[this.questionId].answerState[a]&&(this.quizMain.questionsData[this.questionId].scoreBoardAnswer[a]+="<span class='icon-wrong'></span>")),void 0===this.quizMain.questionsData[this.questionId].answer[a]?this.quizMain.questionsData[this.questionId].complete=!1:this.quizMain.questionsData[this.questionId].scoreBoardAnswer[a]+=this.quizMain.questionsData[this.questionId].choices[this.quizMain.questionsData[this.questionId].answer[a]],this.quizMain.questionsData[this.questionId].scoreBoardAnswer[a]+="</p>";this.quizMain.questionsData[this.questionId].complete&&"answer"===this.quizMain.quizQuestions.pages[this.quizMain.currentPage-1].autoplay&&this.quizMain.API.play(),this.quizMain.quizConfig.settings.requiredQuestions&&("blank"!==this.quizMain.questionsData[this.questionId].answerState&&this.quizMain.questionsData[this.questionId].complete?this.quizMain.hideVideoControls=!1:this.quizMain.hideVideoControls=!0),this.quizMain.quizConfig.settings.autoAdvance&&"blank"!=this.quizMain.questionsData[this.questionId].answerState&&this.quizMain.questionsData[this.questionId].complete&&(this.quizMain.showNext()?this.quizMain.nextPage():this.quizMain.showLast()&&(this.quizMain.quizConfig.hasOwnProperty("database")&&"lastPage"===this.quizMain.quizConfig.database.sendFrom?this.quizMain.submit():this.quizMain.checkAnswers()))}}]}}]);